# group = this is the law_group a law belongs to
# icon = graphical icon shown in-game
# modifier = {} modifier on country for having adopted this law
# cultural_acceptance_rule and religious_acceptance_rule are triggers in the pop scope used to check if a pop should be accepted or discriminated against

law_no_arbitrary_religion_discrimination = {
    group = lawgroup_religious_discrimination
    
    icon = "gfx/interface/icons/law_icons/freedom_of_conscience.dds"
    
    progressiveness = 50
    
    on_enact = {
        recalculate_pop_ig_support = yes
    }
    
    religious_acceptance_rule = {
        always = yes
    }
    
    modifier = {
        interest_group_ig_devout_pol_str_mult = -0.3
        state_radicals_from_sol_change_accepted_religion_mult = -0.1
        state_loyalists_from_sol_change_accepted_religion_mult = 0.1
        country_authority_add = -200
    }
    
    possible_political_movements = {
        law_discriminates_islam
    }

    pop_support = {
        value = 0
        add = {
            desc = "POP_ACADEMICS"
            if = {
                limit = {
                    is_pop_type = academics
                }
            }
            value = 0.25
        }
        add = {
            desc = "POP_DISCRIMINATED"
            if = {
                limit = { 
                    religion_accepted = yes
                }
                value = 0.5
            }
        }
    }
    
    ai_will_do = {
        exists = ruler
        ruler = {
            has_ideology = ideology:ideology_libertarian
        }
    }

    ai_enact_weight_modifier = {
        value = 0
        
        if = {
            limit = { 
                has_journal_entry = je_government_petition
                has_variable = desired_law_var
                scope:law = var:desired_law_var
            }
            add = 750
        }
    }
}

law_discriminates_islam = {
    group = lawgroup_religious_discrimination
    
    icon = "gfx/interface/icons/law_icons/freedom_of_conscience.dds"
    
    progressiveness = -100
    
    on_enact = {
        recalculate_pop_ig_support = yes
    }
    
    religious_acceptance_rule = {
        religion = {
            NOT = { has_trait = muslim }
        }
    }
    
    modifier = {
        interest_group_ig_devout_pol_str_mult = 0.5
        state_radicals_from_sol_change_discriminated_religion_mult = 0.2
        state_loyalists_from_sol_change_discriminated_religion_mult = -0.2
        country_authority_add = 300
    }

    can_enact = {
        NOR = {
            country_has_state_religion = rel:sunni
            country_has_state_religion = rel:shiite
        }
        NOR = {
            has_law = law_type:law_state_atheism
            has_law = law_type:law_total_separation
        }
	}
    
    possible_political_movements = {
        law_no_arbitrary_religion_discrimination
    }

    pop_support = {
        value = 0
        add = {
            desc = "POP_CLERGYMEN"
            if = {
                limit = {
                    is_pop_type = clergymen
                }
            }
            value = 0.5
        }
        add = {
            desc = "POP_MUSLIMS"
            if = {
                limit = {
                    religion = rel:sunni
                    religion = rel:shiite
                }
            }
            value = -1.0
        }
    }
    
    ai_will_do = {
        exists = ruler
        ruler = {
            has_ideology = ideology:ideology_theocrat
        }
    }

    ai_enact_weight_modifier = {
        value = 0
        
        if = {
            limit = { 
                has_journal_entry = je_government_petition
                has_variable = desired_law_var
                scope:law = var:desired_law_var
            }
            add = 1000
        }
    }
}
